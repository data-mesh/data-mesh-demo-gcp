version: 2.1
setup: true
orbs:
  python: circleci/python@1.4.0
  continuation: circleci/continuation@0.1.0

jobs:
  generate-config:
    executor: continuation/default
    steps:
      - checkout
      - checkout
      - python/install-packages:
          pkg-manager: pip
      - run: 
          name: Generate Pipeline generated_config.yml file
          command: |
            ./scripts/generate-pipeline-config.py
      # - continuation/continue:
      #     parameters: '{}'
      #     configuration_path: configs/generated_config.yml

workflows:
  setup-workflow:
    jobs:
      - generate-config